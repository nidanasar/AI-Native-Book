"use strict";(globalThis.webpackChunkhackathon_text_book=globalThis.webpackChunkhackathon_text_book||[]).push([[5090],{4838:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"module-1-ros2/urdf-humanoid-robots","title":"Chapter 4: Understanding URDF for Humanoid Robots","description":"Learn how humanoid robot bodies are described using URDF","source":"@site/docs/module-1-ros2/04-urdf-humanoid-robots.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/urdf-humanoid-robots","permalink":"/docs/module-1-ros2/urdf-humanoid-robots","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-ros2/04-urdf-humanoid-robots.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Chapter 4: Understanding URDF for Humanoid Robots","description":"Learn how humanoid robot bodies are described using URDF"},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 3: Bridging Python Agents to ROS 2 Controllers","permalink":"/docs/module-1-ros2/python-rclpy-bridge"},"next":{"title":"Module 2: The Digital Twin (Gazebo & Unity)","permalink":"/docs/category/module-2-the-digital-twin-gazebo--unity"}}');var s=i(4848),t=i(8453);const o={sidebar_position:4,title:"Chapter 4: Understanding URDF for Humanoid Robots",description:"Learn how humanoid robot bodies are described using URDF"},l="Understanding URDF for Humanoid Robots",d={},a=[{value:"What is URDF?",id:"what-is-urdf",level:2},{value:"The Robot&#39;s Anatomical Blueprint",id:"the-robots-anatomical-blueprint",level:3},{value:"Why URDF Matters",id:"why-urdf-matters",level:3},{value:"URDF in the Nervous System Analogy",id:"urdf-in-the-nervous-system-analogy",level:3},{value:"Links and Joints Explained",id:"links-and-joints-explained",level:2},{value:"Links: The Rigid Bodies",id:"links-the-rigid-bodies",level:3},{value:"1. Visual Geometry",id:"1-visual-geometry",level:4},{value:"2. Collision Geometry",id:"2-collision-geometry",level:4},{value:"3. Inertial Properties",id:"3-inertial-properties",level:4},{value:"Joints: The Articulation Points",id:"joints-the-articulation-points",level:3},{value:"Joint Types",id:"joint-types",level:4},{value:"Joint Definition Example",id:"joint-definition-example",level:4},{value:"The Kinematic Chain",id:"the-kinematic-chain",level:3},{value:"Building a Simple Humanoid Description",id:"building-a-simple-humanoid-description",level:2},{value:"Complete URDF Structure",id:"complete-urdf-structure",level:3},{value:"Understanding the Structure",id:"understanding-the-structure",level:3},{value:"Key Design Decisions",id:"key-design-decisions",level:3},{value:"Real Humanoids Are More Complex",id:"real-humanoids-are-more-complex",level:3},{value:"Connecting URDF to ROS 2",id:"connecting-urdf-to-ros-2",level:2},{value:"How robot_state_publisher Works",id:"how-robot_state_publisher-works",level:3},{value:"The TF System",id:"the-tf-system",level:3},{value:"Launching robot_state_publisher",id:"launching-robot_state_publisher",level:3},{value:"Visualizing in RViz",id:"visualizing-in-rviz",level:3},{value:"The Complete Picture",id:"the-complete-picture",level:3},{value:"Summary",id:"summary",level:2}];function h(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"understanding-urdf-for-humanoid-robots",children:"Understanding URDF for Humanoid Robots"})}),"\n",(0,s.jsxs)(n.admonition,{title:"Learning Objectives",type:"info",children:[(0,s.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Explain what URDF is and why it matters for robotics"}),"\n",(0,s.jsx)(n.li,{children:"Identify links and joints in a URDF file"}),"\n",(0,s.jsx)(n.li,{children:"Trace the kinematic chain of a humanoid robot"}),"\n",(0,s.jsx)(n.li,{children:"Explain how URDF connects to ROS 2 via robot_state_publisher"}),"\n"]})]}),"\n",(0,s.jsx)(n.h2,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,s.jsxs)(n.p,{children:['In the previous chapters, you learned how ROS 2 nodes communicate through topics and services\u2014the robot\'s "nervous system." But a nervous system needs a body to control. ',(0,s.jsx)(n.strong,{children:"URDF (Unified Robot Description Format)"})," is how we define that body in software."]}),"\n",(0,s.jsx)(n.h3,{id:"the-robots-anatomical-blueprint",children:"The Robot's Anatomical Blueprint"}),"\n",(0,s.jsx)(n.p,{children:"URDF is an XML format that describes a robot's physical structure:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"What parts (links) the robot has"}),"\n",(0,s.jsx)(n.li,{children:"How those parts connect (joints)"}),"\n",(0,s.jsx)(n.li,{children:"The shape and size of each part (geometry)"}),"\n",(0,s.jsx)(n.li,{children:"Physical properties like mass and inertia"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Think of URDF as the robot's anatomical blueprint. Just as medical textbooks describe the human skeleton with bones and joints, URDF describes the robot skeleton with links and joints. The nervous system (ROS 2) reads this blueprint to understand what it's controlling."}),"\n",(0,s.jsx)(n.h3,{id:"why-urdf-matters",children:"Why URDF Matters"}),"\n",(0,s.jsx)(n.p,{children:"Without URDF, the robot's software wouldn't know:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Question"}),(0,s.jsx)(n.th,{children:"URDF Provides"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"How many joints exist?"}),(0,s.jsx)(n.td,{children:"Complete joint list with names"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"How do joints move?"}),(0,s.jsx)(n.td,{children:"Rotation axes and limits"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Where is each part located?"}),(0,s.jsx)(n.td,{children:"Coordinate frames and transforms"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"What does the robot look like?"}),(0,s.jsx)(n.td,{children:"Visual geometry for displays"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"How does the robot interact physically?"}),(0,s.jsx)(n.td,{children:"Collision geometry for simulation"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"This information is essential for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Motion planning"}),": Calculating how to move from pose A to pose B"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visualization"}),": Displaying the robot in RViz or other tools"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simulation"}),": Running the robot in Gazebo before deploying to hardware"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Control"}),": Knowing joint limits to prevent damage"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"urdf-in-the-nervous-system-analogy",children:"URDF in the Nervous System Analogy"}),"\n",(0,s.jsx)(n.p,{children:"Extending our nervous system metaphor:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Human Body"}),(0,s.jsx)(n.th,{children:"URDF Equivalent"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Skeleton"}),(0,s.jsx)(n.td,{children:"The complete URDF file"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bones"}),(0,s.jsx)(n.td,{children:"Links (rigid body segments)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Joints"}),(0,s.jsx)(n.td,{children:"Joints (articulation points)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Proprioception"}),(0,s.jsx)(n.td,{children:"robot_state_publisher + TF"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:'Your brain has a "body map"\u2014an internal representation of where your limbs are in space. URDF gives ROS 2 the same capability. The robot knows its own structure and can track where each part is as joints move.'}),"\n",(0,s.jsx)(n.admonition,{title:"Key Insight",type:"tip",children:(0,s.jsxs)(n.p,{children:["URDF defines the robot's structure ",(0,s.jsx)(n.em,{children:"statically"}),". The dynamic state (actual joint positions) comes from sensors and is published on the ",(0,s.jsx)(n.code,{children:"/joint_states"})," topic. Together, structure + state = complete body awareness."]})}),"\n",(0,s.jsx)(n.h2,{id:"links-and-joints-explained",children:"Links and Joints Explained"}),"\n",(0,s.jsxs)(n.p,{children:["The two fundamental building blocks of URDF are ",(0,s.jsx)(n.strong,{children:"links"})," and ",(0,s.jsx)(n.strong,{children:"joints"}),". Understanding these is essential for reading and writing robot descriptions."]}),"\n",(0,s.jsx)(n.h3,{id:"links-the-rigid-bodies",children:"Links: The Rigid Bodies"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"link"})," is a rigid body segment\u2014a part of the robot that doesn't deform. In a humanoid:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Torso is a link"}),"\n",(0,s.jsx)(n.li,{children:"Upper arm is a link"}),"\n",(0,s.jsx)(n.li,{children:"Forearm is a link"}),"\n",(0,s.jsx)(n.li,{children:"Head is a link"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Each link has three main properties:"}),"\n",(0,s.jsx)(n.h4,{id:"1-visual-geometry",children:"1. Visual Geometry"}),"\n",(0,s.jsx)(n.p,{children:"What the link looks like for display purposes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<visual>\r\n  <geometry>\r\n    <box size="0.3 0.2 0.5"/>  \x3c!-- width, depth, height --\x3e\r\n  </geometry>\r\n  <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n  <material name="blue"/>\r\n</visual>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Common geometry types:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<box size="x y z"/>'})," \u2014 Rectangular box"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<cylinder radius="r" length="l"/>'})," \u2014 Cylinder"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<sphere radius="r"/>'})," \u2014 Sphere"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<mesh filename="path/to/mesh.stl"/>'})," \u2014 Custom 3D model"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"2-collision-geometry",children:"2. Collision Geometry"}),"\n",(0,s.jsx)(n.p,{children:"What the link uses for physics simulation (often simpler than visual):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<collision>\r\n  <geometry>\r\n    <box size="0.3 0.2 0.5"/>\r\n  </geometry>\r\n</collision>\n'})}),"\n",(0,s.jsx)(n.h4,{id:"3-inertial-properties",children:"3. Inertial Properties"}),"\n",(0,s.jsx)(n.p,{children:"Mass and moment of inertia for dynamics simulation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<inertial>\r\n  <mass value="5.0"/>\r\n  <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.05"/>\r\n</inertial>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"joints-the-articulation-points",children:"Joints: The Articulation Points"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"joint"})," connects two links and defines how they can move relative to each other. Every joint has:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"parent link"})," (the link it attaches from)"]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"child link"})," (the link it attaches to)"]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"type"})," defining the motion"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"joint-types",children:"Joint Types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Motion"}),(0,s.jsx)(n.th,{children:"DOF"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"revolute"})}),(0,s.jsx)(n.td,{children:"Rotation with limits"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Elbow, knee"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"continuous"})}),(0,s.jsx)(n.td,{children:"Unlimited rotation"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Wheel"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"prismatic"})}),(0,s.jsx)(n.td,{children:"Linear sliding"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Telescope, drawer"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"fixed"})}),(0,s.jsx)(n.td,{children:"No motion"}),(0,s.jsx)(n.td,{children:"0"}),(0,s.jsx)(n.td,{children:"Sensor mount"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"floating"})}),(0,s.jsx)(n.td,{children:"All motion"}),(0,s.jsx)(n.td,{children:"6"}),(0,s.jsx)(n.td,{children:"Base in simulation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"planar"})}),(0,s.jsx)(n.td,{children:"2D plane motion"}),(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"XY table"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["For humanoid robots, ",(0,s.jsx)(n.strong,{children:"revolute"})," joints are most common\u2014they rotate like your elbows and shoulders."]}),"\n",(0,s.jsx)(n.h4,{id:"joint-definition-example",children:"Joint Definition Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="left_elbow_joint" type="revolute">\r\n  <parent link="left_upper_arm"/>\r\n  <child link="left_lower_arm"/>\r\n  <origin xyz="0 0 -0.25" rpy="0 0 0"/>\r\n  <axis xyz="0 1 0"/>\r\n  <limit lower="0" upper="2.5" effort="15" velocity="2.0"/>\r\n</joint>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Key elements:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<origin>"})}),": Where the joint is located relative to the parent link"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<axis>"})}),": Which direction the joint rotates around (x, y, or z)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"<limit>"})}),": Range of motion and force/speed limits"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Common Mistake",type:"warning",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"<axis>"})," element specifies the rotation axis in the joint's frame. ",(0,s.jsx)(n.code,{children:'xyz="0 1 0"'})," means rotation around the Y-axis. Getting this wrong causes the robot to move in unexpected directions."]})}),"\n",(0,s.jsx)(n.h3,{id:"the-kinematic-chain",children:"The Kinematic Chain"}),"\n",(0,s.jsxs)(n.p,{children:["Links and joints form a ",(0,s.jsx)(n.strong,{children:"kinematic chain"}),"\u2014a tree structure starting from a root link (usually called ",(0,s.jsx)(n.code,{children:"base_link"}),"). Each link is a child of exactly one parent through a joint."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"base_link (torso)\r\n\u251c\u2500\u2500 neck_joint \u2192 head\r\n\u251c\u2500\u2500 left_shoulder_joint \u2192 left_upper_arm\r\n\u2502   \u2514\u2500\u2500 left_elbow_joint \u2192 left_lower_arm\r\n\u2514\u2500\u2500 right_shoulder_joint \u2192 right_upper_arm\r\n    \u2514\u2500\u2500 right_elbow_joint \u2192 right_lower_arm\n"})}),"\n",(0,s.jsx)(n.p,{children:"This hierarchical structure means:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Moving the torso moves everything attached to it"}),"\n",(0,s.jsx)(n.li,{children:"Moving the shoulder moves the entire arm"}),"\n",(0,s.jsx)(n.li,{children:"Moving the elbow only moves the forearm"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The same principle applies to your body\u2014your hand position depends on your shoulder, elbow, and wrist positions combined."}),"\n",(0,s.jsx)(n.h2,{id:"building-a-simple-humanoid-description",children:"Building a Simple Humanoid Description"}),"\n",(0,s.jsx)(n.p,{children:"Let's examine a complete URDF for a simplified humanoid robot. This model has a torso, head, and two arms with shoulder and elbow joints\u20146 degrees of freedom total."}),"\n",(0,s.jsx)(n.h3,{id:"complete-urdf-structure",children:"Complete URDF Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_humanoid">\r\n\r\n  \x3c!-- Material definitions for colors --\x3e\r\n  <material name="blue">\r\n    <color rgba="0.2 0.4 0.8 1.0"/>\r\n  </material>\r\n  <material name="orange">\r\n    <color rgba="0.9 0.5 0.2 1.0"/>\r\n  </material>\r\n\r\n  \x3c!-- Base Link (Torso) - The root of our kinematic tree --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n      <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n      <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="5.0"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.05"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <link name="head">\r\n    <visual>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n      <material name="gray"/>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.004" ixy="0" ixz="0" iyy="0.004" iyz="0" izz="0.004"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Neck Joint --\x3e\r\n  <joint name="neck_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.55" rpy="0 0 0"/>\r\n    <axis xyz="0 0 1"/>  \x3c!-- Yaw: turn head left/right --\x3e\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Upper Arm --\x3e\r\n  <link name="left_upper_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.25"/>\r\n      </geometry>\r\n      <origin xyz="0 0 -0.125" rpy="0 0 0"/>\r\n      <material name="orange"/>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="0.8"/>\r\n      <inertia ixx="0.005" ixy="0" ixz="0" iyy="0.005" iyz="0" izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Shoulder Joint --\x3e\r\n  <joint name="left_shoulder_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.2 0 0.45" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>  \x3c!-- Pitch: swing arm forward/back --\x3e\r\n    <limit lower="-3.14" upper="3.14" effort="20" velocity="2.0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Left Lower Arm --\x3e\r\n  <link name="left_lower_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder radius="0.035" length="0.22"/>\r\n      </geometry>\r\n      <origin xyz="0 0 -0.11" rpy="0 0 0"/>\r\n      <material name="orange"/>\r\n    </visual>\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.003" ixy="0" ixz="0" iyy="0.003" iyz="0" izz="0.0005"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Left Elbow Joint --\x3e\r\n  <joint name="left_elbow_joint" type="revolute">\r\n    <parent link="left_upper_arm"/>\r\n    <child link="left_lower_arm"/>\r\n    <origin xyz="0 0 -0.25" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="0" upper="2.5" effort="15" velocity="2.0"/>\r\n  </joint>\r\n\r\n  \x3c!-- Right arm mirrors left arm structure --\x3e\r\n  \x3c!-- (omitted for brevity - see full example in examples/module-1/) --\x3e\r\n\r\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"understanding-the-structure",children:"Understanding the Structure"}),"\n",(0,s.jsx)(n.p,{children:"Our simple humanoid has:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Count"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Links"}),(0,s.jsx)(n.td,{children:"6"}),(0,s.jsx)(n.td,{children:"Torso, head, 2 upper arms, 2 lower arms"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Joints"}),(0,s.jsx)(n.td,{children:"5"}),(0,s.jsx)(n.td,{children:"Neck, 2 shoulders, 2 elbows"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Total DOF"}),(0,s.jsx)(n.td,{children:"5"}),(0,s.jsx)(n.td,{children:"5 revolute joints = 5 degrees of freedom"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"The kinematic tree looks like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"base_link (torso)\r\n\u251c\u2500\u2500 neck_joint \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba head\r\n\u251c\u2500\u2500 left_shoulder_joint \u2500\u2500\u25ba left_upper_arm\r\n\u2502   \u2514\u2500\u2500 left_elbow_joint \u2500\u2500\u25ba left_lower_arm\r\n\u2514\u2500\u2500 right_shoulder_joint \u2500\u25ba right_upper_arm\r\n    \u2514\u2500\u2500 right_elbow_joint \u2500\u25ba right_lower_arm\n"})}),"\n",(0,s.jsx)(n.h3,{id:"key-design-decisions",children:"Key Design Decisions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. Coordinate Frames"}),": The ",(0,s.jsx)(n.code,{children:"origin"})," element positions each joint relative to its parent. The shoulder joint is at ",(0,s.jsx)(n.code,{children:'xyz="0.2 0 0.45"'}),"\u2014meaning 0.2m to the side (X), 0m forward (Y), and 0.45m up (Z) from the torso origin."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Joint Axes"}),": The shoulder and elbow use ",(0,s.jsx)(n.code,{children:'axis xyz="0 1 0"'})," (Y-axis), creating a forward/back swinging motion. The neck uses ",(0,s.jsx)(n.code,{children:'axis xyz="0 0 1"'})," (Z-axis) for left/right head turning."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"3. Joint Limits"}),": The elbow has ",(0,s.jsx)(n.code,{children:'lower="0"'})," because human elbows don't bend backward. The shoulder allows full rotation (",(0,s.jsx)(n.code,{children:"-3.14"})," to ",(0,s.jsx)(n.code,{children:"3.14"})," radians \u2248 \xb1180\xb0)."]}),"\n",(0,s.jsx)(n.h3,{id:"real-humanoids-are-more-complex",children:"Real Humanoids Are More Complex"}),"\n",(0,s.jsx)(n.p,{children:"Our 5-DOF model is simplified for learning. Production humanoid robots have:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Robot"}),(0,s.jsx)(n.th,{children:"Approximate DOF"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Simple teaching model"}),(0,s.jsx)(n.td,{children:"5-6"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Boston Dynamics Atlas"}),(0,s.jsx)(n.td,{children:"28+"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Tesla Optimus"}),(0,s.jsx)(n.td,{children:"28+"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Honda ASIMO"}),(0,s.jsx)(n.td,{children:"57"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Full human model"}),(0,s.jsx)(n.td,{children:"200+"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"The same URDF principles apply regardless of complexity\u2014just more links, more joints, and more careful coordinate frame management."}),"\n",(0,s.jsx)(n.h2,{id:"connecting-urdf-to-ros-2",children:"Connecting URDF to ROS 2"}),"\n",(0,s.jsxs)(n.p,{children:["A URDF file by itself is just static XML. To bring it alive in ROS 2, we use the ",(0,s.jsx)(n.strong,{children:"robot_state_publisher"})," node. This is the bridge between robot structure and the running system."]}),"\n",(0,s.jsx)(n.h3,{id:"how-robot_state_publisher-works",children:"How robot_state_publisher Works"}),"\n",(0,s.jsx)(n.p,{children:"The robot_state_publisher performs a crucial function:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reads"})," the URDF to understand robot structure"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Subscribes"})," to ",(0,s.jsx)(n.code,{children:"/joint_states"})," topic for current joint positions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Computes"})," the position of every link based on joint angles"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Publishes"})," coordinate transforms (TF) for the entire robot"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502      URDF       \u2502 (static structure)\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n         \u2502\r\n         \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      /joint_states       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 robot_state_    \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 Joint Encoders  \u2502\r\n\u2502 publisher       \u2502      (positions)          \u2502 (hardware/sim)  \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n         \u2502\r\n         \u2502 /tf (transforms)\r\n         \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  RViz, Motion   \u2502\r\n\u2502  Planners, etc. \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.h3,{id:"the-tf-system",children:"The TF System"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TF (Transforms)"})," is ROS 2's system for tracking coordinate frames. Every link in your URDF becomes a coordinate frame, and TF knows how they relate spatially."]}),"\n",(0,s.jsx)(n.p,{children:'When you query "where is the left hand?", TF computes:'}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Base link position"}),"\n",(0,s.jsx)(n.li,{children:"Plus shoulder joint rotation"}),"\n",(0,s.jsx)(n.li,{children:"Plus elbow joint rotation"}),"\n",(0,s.jsx)(n.li,{children:"Equals hand position in world coordinates"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This chain of transforms is computed automatically from URDF + joint states."}),"\n",(0,s.jsx)(n.h3,{id:"launching-robot_state_publisher",children:"Launching robot_state_publisher"}),"\n",(0,s.jsx)(n.p,{children:"To use robot_state_publisher with your URDF:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Method 1: Pass URDF file path\r\nros2 run robot_state_publisher robot_state_publisher \\\r\n    --ros-args -p robot_description:="$(cat simple_humanoid.urdf)"\r\n\r\n# Method 2: Use a launch file (preferred for complex setups)\r\nros2 launch my_robot_package robot.launch.py\n'})}),"\n",(0,s.jsx)(n.p,{children:"A typical launch file might look like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nimport os\r\n\r\ndef generate_launch_description():\r\n    urdf_file = os.path.join(\r\n        os.path.dirname(__file__), 'simple_humanoid.urdf'\r\n    )\r\n\r\n    with open(urdf_file, 'r') as f:\r\n        robot_description = f.read()\r\n\r\n    return LaunchDescription([\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            parameters=[{'robot_description': robot_description}]\r\n        )\r\n    ])\n"})}),"\n",(0,s.jsx)(n.h3,{id:"visualizing-in-rviz",children:"Visualizing in RViz"}),"\n",(0,s.jsx)(n.p,{children:"Once robot_state_publisher is running, you can visualize your robot:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Start RViz\r\nros2 run rviz2 rviz2\r\n\r\n# In RViz:\r\n# 1. Set Fixed Frame to "base_link"\r\n# 2. Add \u2192 RobotModel display\r\n# 3. Your robot should appear!\n'})}),"\n",(0,s.jsx)(n.p,{children:"To see the robot move, you need to publish joint states:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Publish test joint positions\r\nros2 topic pub /joint_states sensor_msgs/msg/JointState \"{\r\n  header: {stamp: {sec: 0, nanosec: 0}, frame_id: ''},\r\n  name: ['neck_joint', 'left_shoulder_joint', 'left_elbow_joint',\r\n         'right_shoulder_joint', 'right_elbow_joint'],\r\n  position: [0.5, 0.3, 1.0, -0.3, 1.0],\r\n  velocity: [],\r\n  effort: []\r\n}\"\n"})}),"\n",(0,s.jsx)(n.h3,{id:"the-complete-picture",children:"The Complete Picture"}),"\n",(0,s.jsx)(n.p,{children:"Putting it all together:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502    URDF     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u25ba robot_state_publisher \u2500\u2500\u2500\u2500\u2500\u2500\u25ba /tf\r\n\u2502  (skeleton) \u2502                \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\r\n                               \u2502\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u25bc\r\n\u2502   Sensors   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u25ba /joint_states\r\n\u2502  (encoders) \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n\r\n\r\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n         \u2502           Consumers of /tf          \u2502\r\n         \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n         \u2502   RViz      \u2502   Motion    \u2502  Your   \u2502\r\n         \u2502(visualize)  \u2502  Planner    \u2502  Code   \u2502\r\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.p,{children:'This is how the robot\'s "body map" comes alive\u2014structure (URDF) combined with state (/joint_states) produces spatial awareness (/tf).'}),"\n",(0,s.jsx)(n.admonition,{title:"Nervous System Complete",type:"info",children:(0,s.jsx)(n.p,{children:"With URDF and robot_state_publisher, your robot has proprioception\u2014awareness of its own body position. Combined with the communication patterns from earlier chapters, you now have a complete robotic nervous system foundation."})}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"In this chapter, you learned how robots describe their physical structure using URDF:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Concepts:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"URDF"})," is an XML format describing robot structure"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Defines what parts exist and how they connect"}),"\n",(0,s.jsx)(n.li,{children:"Provides geometry for visualization and simulation"}),"\n",(0,s.jsx)(n.li,{children:"Includes physical properties for dynamics"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Links"})," are rigid body segments (like bones)"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Visual geometry for display"}),"\n",(0,s.jsx)(n.li,{children:"Collision geometry for physics"}),"\n",(0,s.jsx)(n.li,{children:"Inertial properties for dynamics"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Joints"})," connect links and define motion"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Types: revolute, continuous, prismatic, fixed"}),"\n",(0,s.jsx)(n.li,{children:"Parent/child relationship forms kinematic tree"}),"\n",(0,s.jsx)(n.li,{children:"Limits constrain range of motion"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"robot_state_publisher"})," brings URDF alive"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Reads static structure from URDF"}),"\n",(0,s.jsx)(n.li,{children:"Subscribes to /joint_states for positions"}),"\n",(0,s.jsx)(n.li,{children:"Publishes TF transforms for spatial awareness"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TF"})," tracks all coordinate frames"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Every link becomes a frame"}),"\n",(0,s.jsx)(n.li,{children:"Transforms chain through joints"}),"\n",(0,s.jsx)(n.li,{children:'Enables queries like "where is the hand?"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Nervous System Parallels:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"URDF = Anatomical blueprint"}),"\n",(0,s.jsx)(n.li,{children:"Links = Bones"}),"\n",(0,s.jsx)(n.li,{children:"Joints = Articulation points"}),"\n",(0,s.jsx)(n.li,{children:"robot_state_publisher = Proprioceptive system"}),"\n",(0,s.jsx)(n.li,{children:"TF = Body map in the brain"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Module Complete:"})}),"\n",(0,s.jsx)(n.p,{children:"Congratulations! You've completed Module 1: The Robotic Nervous System. You now understand:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"What ROS 2 is"})," and why middleware matters for robots"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"How nodes communicate"})," through topics and services"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"How to write Python code"})," using rclpy"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"How robots describe their bodies"})," with URDF"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This foundation prepares you for everything that follows\u2014perception, planning, control, and learning all build on these fundamentals. The nervous system is ready; now it's time to give your robot intelligence."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.admonition,{title:"Module Complete",type:"info",children:(0,s.jsx)(n.p,{children:"Congratulations! You have completed Module 1: The Robotic Nervous System. You now understand how ROS 2 provides the communication infrastructure for humanoid robots."})})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);